<?php

if (!class_exists('XpertoCustomOrgAdminNavWalker')) {
    class XpertoCustomOrgAdminNavWalker extends Walker_Nav_Menu
    {
        function start_el(&$output, $item, $depth = 0, $args = [], $id = 0)
        {
            $output .= "<li class='" .  implode(" ", $item->classes) . "'>";

            $is_active = in_array("current_page_item", $item->classes);

            if ($item->url && $item->url != '#') {

                $tw_anchor_class = 'group flex items-center py-3 rounded-lg hover:bg-xperto-orange-light-90';
                $tw_img_css = 'flex-shrink-0 w-6 h-6 text-xperto-orange transition duration-75 group-hover:fill-xperto-orange';
                $output .= '<a href="' . $item->url . '" class="' . $tw_anchor_class . '">';

                /**
                 * * Add menu SVG icons
                 */

                // we found edit org, add the svg
                if (str_contains(strtolower($item->title), 'edit org')) {
                    $output .= '<svg class="' . $tw_img_css . '" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.6837 5.1582L2 18.8418V21.9997H5.15773L18.8414 8.31594L15.6837 5.1582Z"/>
                    <path d="M18.842 2.00032L16.7368 4.10547L19.8945 7.26319L21.9997 5.15804L18.842 2.00032Z"/>
                    </svg>';
                }

                // we found modify memberships, add the svg
                if (str_contains(strtolower($item->title), 'modify')) {
                    $output .= '<svg class="' . $tw_img_css . '" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.5108 5H3.48918C2.66805 5 2 5.66805 2 6.48918V16.8725C2 17.6936 2.66805 18.3617 3.48918 18.3617H20.5109C21.332 18.3617 22 17.6936 22 16.8725V6.48918C22 5.66805 21.332 5 20.5108 5ZM9.06383 13.3191V14.9574C9.06383 15.3099 8.77805 15.5957 8.42555 15.5957H5.14895C4.79645 15.5957 4.51066 15.3099 4.51066 14.9574V13.3191C4.51066 12.6763 4.77895 12.0952 5.20891 11.6809C3.74359 10.2686 4.73871 7.76598 6.78727 7.76598C8.83535 7.76598 9.83316 10.2665 8.36563 11.6809C8.79555 12.0952 9.06383 12.6763 9.06383 13.3191ZM15.1915 14.7872H11.5319C11.1794 14.7872 10.8936 14.5014 10.8936 14.1489C10.8936 13.7964 11.1794 13.5107 11.5319 13.5107H15.1915C15.544 13.5107 15.8298 13.7964 15.8298 14.1489C15.8298 14.5014 15.544 14.7872 15.1915 14.7872ZM18.8511 12.3617H11.5319C11.1794 12.3617 10.8936 12.0759 10.8936 11.7234C10.8936 11.3709 11.1794 11.0852 11.5319 11.0852H18.8511C19.2036 11.0852 19.4893 11.3709 19.4893 11.7234C19.4894 12.0759 19.2036 12.3617 18.8511 12.3617ZM18.8511 9.85105H11.5319C11.1794 9.85105 10.8936 9.56527 10.8936 9.21277C10.8936 8.86027 11.1794 8.57449 11.5319 8.57449H18.8511C19.2036 8.57449 19.4893 8.86027 19.4893 9.21277C19.4894 9.56527 19.2036 9.85105 18.8511 9.85105Z"/>
                    </svg>';
                }

                // we found members menu, add the svg
                if (str_contains(strtolower($item->title), 'manage')) {
                    $output .= '<svg class="' . $tw_img_css . '" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 10.0715C13.8769 10.0715 15.3984 8.55 15.3984 6.6731C15.3984 4.79619 13.8769 3.27466 12 3.27466C10.1231 3.27466 8.60156 4.79619 8.60156 6.6731C8.60156 8.55 10.1231 10.0715 12 10.0715Z" />
                    <path d="M18.875 10.0715C20.0615 10.0715 21.0234 9.10965 21.0234 7.9231C21.0234 6.73655 20.0615 5.77466 18.875 5.77466C17.6885 5.77466 16.7266 6.73655 16.7266 7.9231C16.7266 9.10965 17.6885 10.0715 18.875 10.0715Z" />
                    <path d="M5.125 10.0715C6.31155 10.0715 7.27344 9.10965 7.27344 7.9231C7.27344 6.73655 6.31155 5.77466 5.125 5.77466C3.93845 5.77466 2.97656 6.73655 2.97656 7.9231C2.97656 9.10965 3.93845 10.0715 5.125 10.0715Z" />
                    <path d="M7.2418 12.0007C6.39609 11.3078 5.6302 11.3995 4.65234 11.3995C3.18984 11.3995 2 12.5823 2 14.0359V18.3019C2 18.9331 2.51523 19.4464 3.14883 19.4464C5.88422 19.4464 5.55469 19.4959 5.55469 19.3284C5.55469 16.3055 5.19664 14.0887 7.2418 12.0007Z" />
                    <path d="M12.9302 11.4152C11.2222 11.2728 9.73765 11.4169 8.45715 12.4738C6.31429 14.1902 6.72668 16.5013 6.72668 19.3285C6.72668 20.0765 7.33527 20.6965 8.09465 20.6965C16.34 20.6965 16.6682 20.9624 17.1571 19.8797C17.3175 19.5135 17.2736 19.6299 17.2736 16.1269C17.2736 13.3447 14.8645 11.4152 12.9302 11.4152Z" />
                    <path d="M19.3478 11.3994C18.3646 11.3994 17.6029 11.3086 16.7583 12.0006C18.7882 14.0731 18.4454 16.1387 18.4454 19.3283C18.4454 19.4968 18.1719 19.4463 20.8103 19.4463C21.4665 19.4463 22.0001 18.9146 22.0001 18.2611V14.0358C22.0001 12.5822 20.8103 11.3994 19.3478 11.3994Z" />
                    </svg>';
                }

                // we found reports menu, add the svg
                if (str_contains(strtolower($item->title), 'reports')) {
                    $output .= '<svg class="' . $tw_img_css . '" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8 6V2L4 6H8ZM7 20C7 21.1046 7.89543 22 9 22H18C19.1046 22 20 21.1046 20 20V7C20 5.89543 19.1046 5 18 5V18C18 19.1046 17.1046 20 16 20H7ZM9 6V2H15C16.1046 2 17 2.89543 17 4V17C17 18.1046 16.1046 19 15 19H6C4.89543 19 4 18.1046 4 17V7L8 7C8.55229 7 9 6.55229 9 6ZM6.5 9C6.22386 9 6 9.22386 6 9.5C6 9.77614 6.22386 10 6.5 10H14.5C14.7761 10 15 9.77614 15 9.5C15 9.22386 14.7761 9 14.5 9H6.5ZM6 11.5C6 11.2239 6.22386 11 6.5 11H14.5C14.7761 11 15 11.2239 15 11.5C15 11.7761 14.7761 12 14.5 12H6.5C6.22386 12 6 11.7761 6 11.5ZM6.5 13C6.22386 13 6 13.2239 6 13.5C6 13.7761 6.22386 14 6.5 14H14.5C14.7761 14 15 13.7761 15 13.5C15 13.2239 14.7761 13 14.5 13H6.5ZM6 15.5C6 15.2239 6.22386 15 6.5 15H10.5C10.7761 15 11 15.2239 11 15.5C11 15.7761 10.7761 16 10.5 16H6.5C6.22386 16 6 15.7761 6 15.5Z"/>
                    </svg>';
                }
            } else {
                $output .= '<span>';
            }
            // create span container
            $output .= '<span class="flex-1 ml-2 text-xperto-orange font-semibold">';
            $output .= $item->title;
            $output .= '</span>';

            if ($item->url && $item->url != '#') {
                $output .= '</a>';
            } else {
                $output .= '</span>';
            }
        }
    }
}
